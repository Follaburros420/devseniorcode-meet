# JVB (Jitsi Videobridge) Custom Configuration
# This file overrides default JVB settings to prevent call drops

# Disable Octo (distributed JVB) to prevent bridge migration issues
org.jitsi.videobridge.ENABLE_OCTO=false

# Increase timeouts for better stability with multiple participants
org.jitsi.videobridge.IDLE_TIMEOUT=3600000
org.jitsi.videobridge.IDLE_SESSION_CHECK_INTERVAL=60000
org.jitsi.videobridge.MAX_SESSION_DURATION=14400000

# Enable more aggressive keepalive to prevent connection drops
org.jitsi.videobridge.STUN_KEEP_ALIVE_NEEDED=true
org.jitsi.videobridge.TCP_HARVESTER_CONNECTIONS_IDLE_TIMEOUT=3600

# Disable experimental features that may cause instability
org.jitsi.videobridge.ENABLE_STATISTICS=false
org.jitsi.videobridge.SHOW_STATS_OVER_JSON=false

# Increase the ICE timeout to prevent premature connection termination
org.jitsi.videobridge.ICE_IDLE_TIMEOUT=3600
org.jitsi.videobridge.ICE_IDLE_CHECK_INTERVAL=120

# Prevent premature close of channels
org.jitsi.videobridge.PREMATURAL_CLOSE_GRACE_PERIOD=10000

# Enable more stable transport handling
org.jitsi.videobridge.TRANSPORT_MANAGER_SEND_QUEUE_CAPACITY=1024

# Disable conference expiration timer
org.jitsi.videobridge.EXPIRE_CONFERENCE_ON_EMPTY_TIMEOUT=3600

# Better handling of multiple video streams
org.jitsi.videobridge.TRUST_BWE=false

# Increase max participants to handle more users (default is usually lower)
org.jitsi.videobridge.MAX_PARTICIPANTS=200

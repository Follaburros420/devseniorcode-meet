# Jicofo Custom Configuration
# This file overrides default Jicofo settings to prevent multi-participant call drops

# Disable Octo (distributed JVB) which can cause connection issues with multiple bridges
org.jitsi.jicofo.BRIDGE_REGION_AWARENESS_ENABLED=false

# Increase timeout for participants to prevent premature termination
# Default is 10s, increased to 60s for stability
org.jitsi.jicofo.PARTICIPANT_TIMEOUT=60

# Disable automatic bridge removal during active calls
org.jitsi.jicofo.ALWAYS_REINVITE_AFTER_REMOVE=false

# Disable graceful shutdown which can cause premature call termination
org.jitsi.jicofo.BRIDGE_MIGRATION_ENABLED=false

# Increase the XMPP timeout for better stability
org.jitsi.jicofo.BRIDGE_SELECTION_STRATEGY=RegionBasedBridgeSelectionStrategy

# Disable audio/voice detection which can trigger unnecessary restarts
org.jitsi.jicofo.DISABLE_AUDIO_DETECTION=false

# Increase retry delays for connection stability
org.jitsi.jicofo.INITIAL_RETRY_DELAY=5000
org.jitsi.jicofo.MAX_RETRY_DELAY=30000

# Enable more stable session handling
org.jitsi.jicofo.ENABLE_AUTO_OWNER=true
org.jitsi.jicofo.AUTH_SOURCES=internal

# Disable experimental features that may cause instability
org.jitsi.jicofo.ENABLE_BRIDGE_HEALTH_CHECKS=false
